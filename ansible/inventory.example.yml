---
# Example Ansible inventory for Proxmox infrastructure
# Copy to inventory.yml and replace placeholders; keep secrets elsewhere.

all:
  vars:
    # Default SSH user for provisioning (adjust if you use a different user).
    ansible_user: root
    ansible_port: 22
    ansible_ssh_common_args: '-o StrictHostKeyChecking=accept-new'
    # No credentials or real addresses in this example; provide via vault/vars.

  children:
    proxmox_hosts:
      # Group for all Proxmox hypervisors (add as many as needed).
      hosts:
        proxmox_host_a:
          ansible_host: "<proxmox_host_a_address_or_fqdn>"
        proxmox_host_b:
          ansible_host: "<proxmox_host_b_address_or_fqdn>"
      vars:
        # Shared variables for every Proxmox host belong here.
        # Example: ntp_servers: []
        # Keep this generic; fill in per-environment in your real inventory.

    vms:
      # Group for Linux VMs created via Terraform + cloud-init
      # Add VMs here after Terraform creates them
      hosts:
        vm_example_1:
          ansible_host: "<vm_example_1_address_or_fqdn>"
        vm_example_2:
          ansible_host: "<vm_example_2_address_or_fqdn>"
      vars:
        # Common variables for all VMs
        # ansible_user matches the cloud-init user from Terraform (default: admin)
        ansible_user: "admin"
        ansible_port: 22
        ansible_ssh_common_args: '-o StrictHostKeyChecking=accept-new'

